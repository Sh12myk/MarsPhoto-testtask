{"version":3,"sources":["components/card/card.js","components/select/select.js","services/Api.js","components/app.js","index.js"],"names":["useStyles","makeStyles","theme","root","minWidth","margin","boxShadow","media","height","paddingTop","CardStyled","props","imageSrc","cameraName","earthDate","classes","Card","className","CardMedia","image","title","CardHeader","subheader","CardContent","Link","href","target","formControl","backgroundColor","fontSize","selectEmpty","marginTop","SimpleSelect","name","callback","activeQuery","options","FormControl","color","sx","m","variant","InputLabel","id","Select","labelId","value","onChange","label","MenuItem","map","option","index","toLocaleLowerCase","API_KEY","NasaService","url","getPhotos","rover","sol","a","length","console","log","fetch","promise","json","data","photos","LoadMoreButton","styled","Button","marginRight","inputSolDay","border","grey","width","marginLeft","App","React","useState","playbackRate","setPlaybackRate","useSound","volume","play","handleClick","service","setPhotos","activeRover","setActiveRover","activeCamera","setActiveCamera","activePhotos","setActivePhotos","setSol","optionsCameras","forEach","photo","includes","camera","push","getFilteredPhotos","filter","toLocaleUpperCase","useEffect","then","onClick","event","Input","placeholder","type","Stack","spacing","Alert","severity","slice","img_src","earth_date","visiblePhotos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ad29b19.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\n\nimport { Link } from '@mui/material';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minWidth: 400,\n        margin: '0 0 20px 20px',\n        \n    \"&:hover\": {\n      boxShadow: \"inset -12px -11px 40px 0px rgba(130,34,255,0.68), -12px -13px 9px -4px rgba(255,0,0,0.4)\"\n    }\n    },\n    media: {\n        height: 0,\n        paddingTop: '56.25%', // 16:9\n    },\n    \n    \n\n}));\n\nexport default function CardStyled( props ) {\n    const {\n        imageSrc,\n        cameraName,\n        earthDate\n    } = props;\n\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            \n            <CardMedia\n                className={classes.media}\n                image={imageSrc}\n                title=\"Paella dish\"\n            />\n            <CardHeader\n                title={cameraName}\n                subheader={earthDate}\n            />\n            <CardContent>\n                \n                    <Link href={imageSrc} target=\"_blank\">\n                    Link\n                    </Link>\n                \n            </CardContent>\n\n        </Card>\n    );\n}\n\n","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: 50,\n        minWidth: 200,\n        backgroundColor: '#ffffff',\n        fontSize:20,\n        \n    },\n    selectEmpty: {\n        marginTop: 40,\n    },\n    }));\n\nexport default function SimpleSelect(props) {\n\n    const {\n        name,\n        callback,\n        activeQuery,\n        options\n    } = props;\n\n    const classes = useStyles();\n\n    return (\n        <div>\n            <FormControl color=\"error\" sx={{ m: 1, minWidth: 160 }} variant=\"filled\" className={classes.formControl}>\n                <InputLabel id=\"simple-select-outlined-label\">{name}</InputLabel>\n                <Select\n                    labelId=\"simple-select-outlined-label\"\n                    id=\"simple-select-outlined\"\n                    value={activeQuery}\n                    onChange={callback}\n                    label={name}\n                >\n                    <MenuItem value=\"\">\n                        <em>{name === 'Rover'? 'None': 'All'}</em>\n                    </MenuItem>\n                    {\n                        options.map((option, index)=>\n                            <MenuItem\n                                value={option.toLocaleLowerCase()}\n                                key={index}\n                            >\n                                {option}</MenuItem>\n                        )\n                    }\n                </Select>\n            </FormControl>\n        </div>\n    );\n}","const API_KEY = 'aKkkjJlNbzUlF1pvUhOMhpL2wIbXhrfsTYheoYFe';\n\nclass NasaService {\n    url ='https://api.nasa.gov/mars-photos/api/v1/';\n\n    getPhotos = async (rover, sol)=> {\n        if(!rover.length){\n            return\n        }\n        console.log(this.url + `rovers/${rover}/photos?&sol=${sol}&api_key=`+API_KEY)\n       const promise = await fetch(this.url + `rovers/${rover}/photos?&sol=${sol}&api_key=`+API_KEY);\n       const data = await promise.json();\n       return data.photos;\n    }\n}\n\nexport default NasaService;","import React, {useState, useEffect} from 'react';\nimport CardStyled from './card/card';\nimport SimpleSelect from './select/select';\nimport NasaService from '../services/Api';\nimport './app.css';\nimport {makeStyles} from '@mui/styles';\nimport {styled} from '@mui/styles';\nimport {grey} from '@mui/material/colors';\nimport Button from '@mui/material/Button';\nimport {Input} from '@mui/material';\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport useSound from 'use-sound';\n\n\nconst LoadMoreButton = styled(Button)({});\n\nconst useStyles = makeStyles((theme) => ({\n    margin: {\n        margin: 40,\n        marginRight: 40\n    },\n    inputSolDay: {\n        border: 'none',\n        backgroundColor: grey[300],\n        width: 50,\n        height: 20,\n        marginLeft: 10\n    },\n}));\n\nconst App = () => {\n    const soundUrl = 'sound/click.mp3';\n\n    const [playbackRate, setPlaybackRate] = React.useState(0.75);\n\n    const [play] = useSound(soundUrl, {\n      playbackRate,\n      volume: 0.5,\n    });\n  \n    const handleClick = () => {\n      setPlaybackRate(playbackRate + 0.1);\n      play();\n    };\n\n  \n    const classes = useStyles();\n    const service = new NasaService();\n    const [photos, setPhotos] = useState(null);\n    const [activeRover, setActiveRover] = useState('');\n    const [activeCamera, setActiveCamera] = useState('');\n    const [activePhotos, setActivePhotos] = useState(8);\n    const [sol, setSol] = useState(1);\n    const optionsRovers = ['Curiosity', 'Opportunity', 'Spirit'];\n    let optionsCameras = [];\n\n    if (photos) {\n        photos.forEach(photo => {\n            if (!optionsCameras.includes(photo.camera.name)) {\n                optionsCameras.push(photo.camera.name)\n            }\n        });\n    }\n\n    const getFilteredPhotos = () => {\n        if (activeCamera === '') {\n            return photos;\n        }\n        const filteredPhotos = photos.filter(photo => photo.camera.name === activeCamera.toLocaleUpperCase());\n        return filteredPhotos;\n    };\n\n\n    const setRover = (event) => {\n        setActiveRover(event.target.value);\n        setActiveCamera('');\n    };\n\n    const setCamera = (event) => {\n        setActiveCamera(event.target.value);\n    };\n\n    const getCardsPerLoad = () => {\n        return getFilteredPhotos().slice(0, activePhotos)\n    };\n\n    const pagination = () => {\n\n        if (activePhotos === photos.length) {\n            return\n        }\n\n        const visiblePhotos = activePhotos + 8;\n\n        if (visiblePhotos > photos.length) {\n            setActivePhotos(photos.length);\n            return;\n        }\n\n        setActivePhotos(visiblePhotos);\n    };\n\n    useEffect(function effectFunction() {\n            function fetch() {\n                service.getPhotos(activeRover, sol)\n                    .then(\n                        (photos) => {\n                            setPhotos(photos);\n                            setActiveCamera('');\n                            setActivePhotos(8);\n                        }\n                    );\n            }\n\n            fetch()\n        },\n        [activeRover, sol]);\n\n\n    return (\n        <div className=\"App\">\n            <header>MarsPhoto - test task for Clover Dynamics</header>\n\n            <div className=\"menu-container\">\n                <menu>\n                    <SimpleSelect\n                        onClick={handleClick}\n                        name={\"Rover\"}\n                        callback={setRover}\n                        activeQuery={activeRover}\n                        options={optionsRovers}\n                    />\n\n                    <SimpleSelect\n                        onClick={handleClick}\n                        name={\"Camera\"}\n                        callback={setCamera}\n                        activeQuery={activeCamera}\n                        options={optionsCameras}\n                    />\n                    <Input\n                        onClick={handleClick}\n                        placeholder=\"solar day number\"\n                        value={sol}\n                        className={classes.inputSolDay}\n                        type={'number'}\n                        onChange={(event) => {\n                            if (event.target.value < 1 || event.target.value >= 1001) {\n                                return\n                            }\n                            setSol(event.target.value)\n                        }}\n                    />\n\n                </menu>\n            </div>\n\n            <main>\n\n                {photos && photos.length===0&& <Stack sx={{ width: '50%' }} spacing={2}>\n                    <Alert variant=\"filled\" severity=\"info\" fontSize=\"35\">Photo not found, try to choose another sol</Alert>\n                </Stack>}\n\n                <div className=\"content-container\">\n                    {\n                        photos ? getCardsPerLoad().map(photo =>\n                            <CardStyled\n                                imageSrc={photo.img_src}\n                                cameraName={photo.camera.name}\n                                earthDate={photo.earth_date}\n                                key={photo.id}\n                                onClick={handleClick}\n                            />\n                        ) : null\n                    }\n                </div>\n\n                {\n                    photos && activePhotos < getFilteredPhotos().length ? <LoadMoreButton\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={pagination}\n                        \n                    >\n                        Load more\n                    </LoadMoreButton> : null\n                }\n\n            </main>\n\n            <footer></footer>\n\n        </div>\n    )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\n\nReactDOM.render(\n    <App />\n,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}